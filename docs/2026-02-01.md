# 2026-02-01: Day 1 — ここから始まる物語

自作OS、始めてみることにした。名前は SABOS。
ネットワーク接続ができて、GUIアプリが動くところまでいけたら最高だけど、まあ習作なので楽しいことが一番大事。

## 基本方針

x86_64 / Rust / UEFI で行くことにした。

- **x86_64**: QEMUでのデバッグが楽だし、資料が豊富
- **Rust**: せっかくなのでメモリ安全な言語で。no_std でベアメタルできるのが良い
- **UEFI**: 最初から64bitで動けるし、Legacy BIOS みたいなモード遷移の苦行をしなくていい。画面描画用のフレームバッファ (GOP) も最初から使えるので GUI 目標と相性が良い

そもそも UEFI って何？ってところから調べた。PC の電源入れてから OS が起動するまでの間に動くファームウェアのインターフェース仕様で、昔の BIOS の後継。UEFI のおかげでブートローダ自作の手間がだいぶ省ける。

## 開発環境

devbox で rustup, QEMU, OVMF を入れた。`devbox shell` 一発で全部揃うのは便利。
Rust は nightly が必要（`x86_64-unknown-uefi` ターゲットのため）。

## Hello, SABOS!

UEFI アプリとして "Hello, SABOS!" をシリアル出力するところまで到達。`make run` で QEMU が起動して表示される。

```
Hello, SABOS!
```

uefi crate (v0.35) の API は `uefi::system::with_stdout()` でコンソール出力する形。
QEMU は `-drive format=raw,file=fat:rw:esp` でディレクトリをそのまま FAT パーティションとして認識させられるので、イメージファイルを作る手間がない。

## 開発ルール

いくつか決めた。

- **main に直接コミット**。習作なのでブランチ運用は面倒なだけ
- **GitHub Actions でビルドを保証**。一度作ったものが壊れてないことを常にチェックする。これ大事
- **コメントはマシマシ**。後から読んで「なんでこうしたんだっけ」ってならないように。学習用なので丁寧に書く
- **開発日記を書く**。最初は ADR にしようかと思ったけど、もっとカジュアルに日記形式でいいかなと。スクショも貼っていく

## 次にやりたいこと

GOP でフレームバッファ取得して画面に何か描きたい。まず見た目に変化が出ると楽しいはず。
